/*최소 스패닝 트리 */
#include <iostream>
#include <queue>
#include <vector>
using namespace std;


priority_queue<pair<int,pair<int,int>>,
                vector<pair<int,pair<int,int>>>,
                greater<pair<int,pair<int,int>>>> pq; 
//find 연산
int find_(int node, vector<int>& p){
    int parent = p[node];
    if(parent < 0) return node; //루트 
    else{
        return find_(parent, p);
    }
}
//union 연산
bool union_(int n1, int n2, vector<int>& p){
    int r1 = find_(n1,p);
    int r2 = find_(n2,p);
    if(r1 == r2) return true;
 
    if(p[r1] == p[r2]){
        p[r2] = r1;
        p[r1] -= 1; //높이 증가 
    } 
    else if(p[r1] < p[r2]){ //r1그룹의 높이 더 높은 경우-> r1그룹에 r2추가 
        p[r2] = r1;
        //높이 변동 x 
    }
    else{
        p[r1] = r2;
        //높이 변동 x 
    }

    return false;
}

int main(){
    int result = 0;
    int v,e;
    int a,b,c;
    cin >> v >> e;
    vector<int> p(v+1, -1); // 0~v 
    
    for(int i = 0; i < e; i++){
        pair<int,pair<int,int>> edge_;
        cin >> a >> b >> c;
        edge_.first = c;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
        edge_.second.first = a; 
        edge_.second.second = b;
        pq.push(edge_);
    }

    int edge_num = 0;
    while(edge_num < v-1){
        pair<int,pair<int,int>> edge_ = pq.top(); pq.pop();
        int cost = edge_.first;
        int node1 = edge_.second.first;
        int node2=  edge_.second.second;
        if(union_(node1, node2, p)) continue; //이미 같은 그룹이면 pass
        
        //현재 간선 최소 신장 트리의 간선으로 포함
        result += cost;
        edge_num++;
    }

    cout << result;
    return 0; 
}

/*
    <신장 트리> 
    -> 연결 그래프가 주어질 때,  그 그래프의 서브 그래프중
    모든 정점을 포함한 트리, 즉 사이클이 없는 연결 그래프 
    
    <최소 신장 트리> 
    -> 신장 트리 중 (여러개 존재) 모든 간선 가중치의 합이 최소인 신장트리

    그래프 문제인데, 모든 노드를 연결하면서 비용이 가장 작은 상황을 요구하면
    최소 신장 트리

    <크루스칼 알고리즘>
    최소 신장 트리는 크루스칼 알고리즘
    -> union - find 
    -> 연결 그래프가 주어질 때, 가장 가중치 작은 간선을 뽑아가면서 
    모든 정점을 union 해나간다. 만약 이미 뽑은 간선의 두정점이 union된 상태면 
    최소 신장 트리에 포함시키지 않는다. (사이클)
    만약 이 과정을 반복하다가 간선이 정점수-1 이면 종료한다. (완성)
*/
